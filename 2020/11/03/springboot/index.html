<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>springboot入门 | 十二点前要睡觉</title><meta name="keywords" content="springboot"><meta name="author" content="leobro,zhangakenug@qq.com"><meta name="copyright" content="leobro"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="什么是springbootspringboot是由Pivotal团队提供的框架，其设计目的是用来简化新Spring应用的初始搭建以及开发过程。该框架使用了特定的方式(继承starter，约定优先于配置)来进行配置，从而使开发人员不再需要定义样板化的配置。springboot的核心是自动装配 springboot不是什么新的框架！它是spring基础上的进一步简化，默认配置了很多框架的使用方式，就像">
<meta property="og:type" content="article">
<meta property="og:title" content="springboot入门">
<meta property="og:url" content="http://example.com/2020/11/03/springboot/index.html">
<meta property="og:site_name" content="十二点前要睡觉">
<meta property="og:description" content="什么是springbootspringboot是由Pivotal团队提供的框架，其设计目的是用来简化新Spring应用的初始搭建以及开发过程。该框架使用了特定的方式(继承starter，约定优先于配置)来进行配置，从而使开发人员不再需要定义样板化的配置。springboot的核心是自动装配 springboot不是什么新的框架！它是spring基础上的进一步简化，默认配置了很多框架的使用方式，就像">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/WechatIMG68.jpeg">
<meta property="article:published_time" content="2020-11-03T09:32:21.000Z">
<meta property="article:modified_time" content="2020-11-10T11:31:06.043Z">
<meta property="article:author" content="leobro">
<meta property="article:tag" content="springboot">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/WechatIMG68.jpeg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2020/11/03/springboot/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.2.0',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2020-11-10 19:31:06'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
  }
}

var autoChangeMode = 'false'
var t = saveToLocal.get('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (saveToLocal.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><meta name="generator" content="Hexo 5.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/WechatIMG68.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">28</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">28</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-link"></i><span> 留言板</span></a></div></div></div></div><div id="body-wrap"><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFspringboot"><span class="toc-number">1.</span> <span class="toc-text">什么是springboot</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#springboot%E6%A1%86%E6%9E%B6%E7%9A%84%E7%94%9F%E6%88%90%E6%96%B9%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">springboot框架的生成方式</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E4%B8%AAspringboot%E7%A8%8B%E5%BA%8F"><span class="toc-number">3.</span> <span class="toc-text">第一个springboot程序</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#springboot%E7%9A%84%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">4.</span> <span class="toc-text">springboot的核心配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#properties%E5%92%8Cyaml%E8%AF%AD%E6%B3%95"><span class="toc-number">4.1.</span> <span class="toc-text">properties和yaml语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#properties"><span class="toc-number">4.1.1.</span> <span class="toc-text">properties</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#yaml"><span class="toc-number">4.1.2.</span> <span class="toc-text">yaml</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%99%E5%AE%9E%E4%BD%93%E7%B1%BB%E8%B5%8B%E5%80%BC%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">4.2.</span> <span class="toc-text">给实体类赋值的几种方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Value%EF%BC%88spring"><span class="toc-number">4.2.1.</span> <span class="toc-text">@Value（spring)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8properties%E6%96%87%E4%BB%B6"><span class="toc-number">4.2.2.</span> <span class="toc-text">使用properties文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8yaml"><span class="toc-number">4.2.3.</span> <span class="toc-text">使用yaml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Value%E5%92%8C-Configuration%E5%AF%B9%E6%AF%94"><span class="toc-number">4.2.4.</span> <span class="toc-text">@Value和@Configuration对比</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E5%8F%8A%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE"><span class="toc-number">4.3.</span> <span class="toc-text">多环境配置及配置文件位置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE"><span class="toc-number">4.3.1.</span> <span class="toc-text">文件位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%8E%AF%E5%A2%83%E5%88%87%E6%8D%A2"><span class="toc-number">4.3.2.</span> <span class="toc-text">多环境切换</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#springboot%E7%9A%84web%E5%BC%80%E5%8F%91"><span class="toc-number">5.</span> <span class="toc-text">springboot的web开发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90"><span class="toc-number">5.1.</span> <span class="toc-text">处理静态资源</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#webjars"><span class="toc-number">5.1.1.</span> <span class="toc-text">webjars</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#resources-xx"><span class="toc-number">5.1.2.</span> <span class="toc-text">resources&#x2F;xx</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Thymeleaf%E6%A8%A1%E7%89%88"><span class="toc-number">5.2.</span> <span class="toc-text">Thymeleaf模版</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#thymeleaf%E8%AF%AD%E6%B3%95"><span class="toc-number">5.2.1.</span> <span class="toc-text">thymeleaf语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mvc%E7%9A%84%E9%85%8D%E7%BD%AE%E5%92%8C%E6%89%A9%E5%B1%95"><span class="toc-number">5.2.2.</span> <span class="toc-text">mvc的配置和扩展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E9%A1%B5%E9%9D%A2%E5%A4%84%E7%90%86"><span class="toc-number">5.2.3.</span> <span class="toc-text">异常页面处理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#springboot%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86"><span class="toc-number">6.</span> <span class="toc-text">springboot自动配置原理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9A"><span class="toc-number">6.1.</span> <span class="toc-text">工作原理：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E5%A6%82%E4%BD%95%E7%94%9F%E6%95%88"><span class="toc-number">6.2.</span> <span class="toc-text">自动配置如何生效</span></a></li></ol></li></ol></div></div></div><header class="post-bg" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">十二点前要睡觉</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-link"></i><span> 留言板</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">springboot入门</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2020-11-03T09:32:21.000Z" title="undefined 2020-11-03 17:32:21">2020-11-03</time></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>13分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="什么是springboot"><a href="#什么是springboot" class="headerlink" title="什么是springboot"></a><strong>什么是springboot</strong></h1><p>springboot是由Pivotal团队提供的框架，其设计目的是用来简化新Spring应用的初始搭建以及开发过程。该框架使用了特定的方式(继承starter，约定优先于配置)来进行配置，从而使开发人员不再需要定义样板化的配置。springboot的核心是<strong>自动装配</strong></p>
<p>springboot不是什么新的框架！它是spring基础上的进一步简化，默认配置了很多框架的使用方式，就像maven整合了所有的jar包，springboot整合了spring的框架并且进一步简化了配置</p>
<p>回顾mvc和ssm整合阶段，每个项目都需要大量的配置文件，如果项目只是一个非常小型的应用，如果还要配置像mvc和ssm这样配置这么多文件，这工作量无疑是巨大的，但使用springboot，便可省去大量的配置文件，从而使开发变得更加简单</p>
<h1 id="springboot框架的生成方式"><a href="#springboot框架的生成方式" class="headerlink" title="springboot框架的生成方式"></a><strong>springboot框架的生成方式</strong></h1><p>生成springboot项目的方式有两种：</p>
<ol>
<li>官网生成<br>springboot快速生成：<a target="_blank" rel="noopener" href="https://start.spring.io/">https://start.spring.io</a><br><img src="/2020/11/03/springboot/fastsb1.png" alt="fastsb1"><br><img src="/2020/11/03/springboot/fastsb2.png" alt="fastsb2"><br>创建后在idea导入项目即可</li>
</ol>
<ol start="2">
<li>idea生成<br><img src="/2020/11/03/springboot/idea.jpg" alt="idea"><br>生成项目后，会自动生成springboot的一些核心配置：<br>xxxApplication：springboot程序的入口，通过运行该类启动项目，其中启动类必须要加上注解<code>@SpringBootApplication</code><br>application.properties：springboot的核心配置文件，可以在该文件内修改springboot的默认配置<br>springboot的核心依赖<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs plain">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;<br>&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot; xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;<br>	xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0 https:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;<br>	&lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;<br>	&lt;parent&gt;<br>		&lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;<br>		&lt;artifactId&gt;spring-boot-starter-parent&lt;&#x2F;artifactId&gt;<br>		&lt;version&gt;2.3.5.RELEASE&lt;&#x2F;version&gt;<br>		&lt;relativePath&#x2F;&gt; &lt;!-- lookup parent from repository --&gt;<br>	&lt;&#x2F;parent&gt;<br>	&lt;groupId&gt;com.sprintbootTest&lt;&#x2F;groupId&gt;<br>	&lt;artifactId&gt;demo1&lt;&#x2F;artifactId&gt;<br>	&lt;version&gt;0.0.1-SNAPSHOT&lt;&#x2F;version&gt;<br>	&lt;name&gt;demo1&lt;&#x2F;name&gt;<br>	&lt;description&gt;Demo project for Spring Boot&lt;&#x2F;description&gt;<br><br>	&lt;properties&gt;<br>		&lt;java.version&gt;11&lt;&#x2F;java.version&gt;<br>	&lt;&#x2F;properties&gt;<br><br>	&lt;dependencies&gt;<br><br>&lt;!--		web依赖：tomcat、web.xml、dispatcher、springmvc.xml--&gt;<br>		&lt;dependency&gt;<br>			&lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;<br>			&lt;artifactId&gt;spring-boot-starter-web&lt;&#x2F;artifactId&gt;<br>		&lt;&#x2F;dependency&gt;<br><br>&lt;!--所有的springboot依赖都是spring-boot-stater-xxx--&gt;<br><br><br>&lt;!--		单元测试--&gt;<br>		&lt;dependency&gt;<br>			&lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;<br>			&lt;artifactId&gt;spring-boot-starter-test&lt;&#x2F;artifactId&gt;<br>			&lt;scope&gt;test&lt;&#x2F;scope&gt;<br>			&lt;exclusions&gt;<br>				&lt;exclusion&gt;<br>					&lt;groupId&gt;org.junit.vintage&lt;&#x2F;groupId&gt;<br>					&lt;artifactId&gt;junit-vintage-engine&lt;&#x2F;artifactId&gt;<br>				&lt;&#x2F;exclusion&gt;<br>			&lt;&#x2F;exclusions&gt;<br>		&lt;&#x2F;dependency&gt;<br>	&lt;&#x2F;dependencies&gt;<br><br><br>&lt;!--	打包插件：打包成可执行的jar文件--&gt;<br>	&lt;build&gt;<br>		&lt;plugins&gt;<br>			&lt;plugin&gt;<br>				&lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;<br>				&lt;artifactId&gt;spring-boot-maven-plugin&lt;&#x2F;artifactId&gt;<br>			&lt;&#x2F;plugin&gt;<br>		&lt;&#x2F;plugins&gt;<br>	&lt;&#x2F;build&gt;<br><br>&lt;&#x2F;project&gt;<br><br></code></pre></td></tr></table></figure>

</li>
</ol>
<p>可以看到，在springboot中，依赖都是spring-boot-starter-xxx的格式</p>
<p>spring-boot-starter地址：<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/1.5.12.RELEASE/reference/htmlsingle/#using-boot-starter">https://docs.spring.io/spring-boot/docs/1.5.12.RELEASE/reference/htmlsingle/#using-boot-starter</a></p>
<h1 id="第一个springboot程序"><a href="#第一个springboot程序" class="headerlink" title="第一个springboot程序"></a><strong>第一个springboot程序</strong></h1><p>目录结构：</p>
<p><img src="/2020/11/03/springboot/first.png" alt="first"></p>
<p><strong>注：要在xxxApplication的同级上下文中写controller、mapper、pojo和service</strong></p>
<p>controller:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plain">@Controller<br>@ResponseBody<br>public class HelloController &#123;<br><br>    @RequestMapping(&quot;hello&quot;)<br>    public String hello()&#123;<br>        return &quot;hello world!&quot;;<br>    &#125;<br><br>&#125;<br><br></code></pre></td></tr></table></figure>

<p>Demo1Application：程序入口，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plain">@SpringBootApplication<br>public class Demo1Application &#123;<br><br>	public static void main(String[] args) &#123;<br>		SpringApplication.run(Demo1Application.class, args);<br>	&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>可以发现：springboot已经帮我们内置了tomcat并且配置好了dispatcher</p>
<p><img src="/2020/11/03/springboot/tomcat.jpg" alt="tomcat"></p>
<p>可以看到，springboot帮我们简化了很多配置，更加简化了开发</p>
<h1 id="springboot的核心配置文件"><a href="#springboot的核心配置文件" class="headerlink" title="springboot的核心配置文件"></a><strong>springboot的核心配置文件</strong></h1><p>在springboot中，可以通过修改核心配置文件来修改springboot的默认配置。</p>
<p>springboot的核心配置文件application有两种：</p>
<ul>
<li>application.properties</li>
</ul>
<p>语法结构为：key=value</p>
<ul>
<li>application.yaml</li>
</ul>
<p>语法结构为：key:空格value</p>
<p><strong>spring官网不推荐使用properties这种配置文件，而是使用yaml格式的配置文件</strong></p>
<p>但是两种配置文件可以同时存在，但名字必须相同</p>
<h2 id="properties和yaml语法"><a href="#properties和yaml语法" class="headerlink" title="properties和yaml语法"></a><strong>properties和yaml语法</strong></h2><h3 id="properties"><a href="#properties" class="headerlink" title="properties"></a><strong>properties</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plain"><br>name&#x3D;十二点前要睡觉<br><br>student.name&#x3D;十二点前要睡觉<br><br>student.age&#x3D;3<br><br></code></pre></td></tr></table></figure>

<h3 id="yaml"><a href="#yaml" class="headerlink" title="yaml"></a><strong>yaml</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plain">name: 十二点前要睡觉<br><br># 在yaml中，还可以存储对象<br><br>student: <br>	name: 十二点前要睡觉<br>	age: 3<br><br>student: &#123;name: 十二点要睡觉,age: 3&#125;<br><br>arr: [1,2,3,4]<br></code></pre></td></tr></table></figure>

<p><strong>注：yaml中，对空格的要求很严格</strong></p>
<p>在同一层次的属性中，必须保证空格数相同，如：student中，name和age都表示为student中的属性:student.name(age)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plain">student:<br>    name: 十二点前要睡觉<br>    age: 3<br></code></pre></td></tr></table></figure>


<h2 id="给实体类赋值的几种方式"><a href="#给实体类赋值的几种方式" class="headerlink" title="给实体类赋值的几种方式"></a><strong>给实体类赋值的几种方式</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plain">@Data<br>@AllArgsConstructor<br>@NoArgsConstructor<br>@Component<br>public class dog &#123;<br><br>    private String name;<br>    private int age;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs plain">@Data<br>@AllArgsConstructor<br>@NoArgsConstructor<br>public class person &#123;<br><br>    private String name;<br>    private String age;<br>    private List hobby;<br>    private Map&lt;String,Object&gt; map;<br>    private dog dog;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Value（spring"><a href="#Value（spring" class="headerlink" title="@Value（spring)"></a><strong>@Value（spring)</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs plain">@Data<br>@AllArgsConstructor<br>@NoArgsConstructor<br>@Component<br>public class dog &#123;<br><br>    @Value(&quot;汪汪&quot;)<br>    private String name;<br>    @Value(&quot;3&quot;)<br>    private int age;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs plain">@SpringBootTest<br>class Demo1ApplicationTests &#123;<br><br>	@Autowired<br>	private dog dog;<br><br>	@Test<br>	public void Test()&#123;<br><br>		System.out.println(dog);<br><br>	&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>


<h3 id="使用properties文件"><a href="#使用properties文件" class="headerlink" title="使用properties文件"></a><strong>使用properties文件</strong></h3><p>加载指定.properties配置文件，可以使用spel表达式 @Value(${“”})对属性赋值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs plain">@Data<br>@AllArgsConstructor<br>@NoArgsConstructor<br>@Component<br>@PropertySource(value &#x3D; &quot;classpath:application.properties&quot;)<br>public class dog &#123;<br><br>    @Value(&quot;$&#123;name&#125;&quot;)<br>    private String name;<br>    @Value(&quot;$&#123;age&#125;&quot;)<br>    private int age;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">name</span>=<span class="hljs-string">wangwang</span><br><span class="hljs-attr">age</span>=<span class="hljs-string">10</span><br></code></pre></td></tr></table></figure>

<p><strong>注：在使用@Value后，配置文件中的属性名要与类中的属性名一致！</strong></p>
<p>另外，还可以在properties文件中使用如下方式进行绑定：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs plain">@Data<br>@AllArgsConstructor<br>@NoArgsConstructor<br>@Component<br>@ConfigurationProperties(prefix &#x3D; &quot;person&quot;)<br>@PropertySource(value &#x3D; &quot;classpath:application.properties&quot;)<br>public class person &#123;<br><br>    private String name;<br>    private String age;<br>    private List hobby;<br>    private Map&lt;String,Object&gt; map;<br>    private dog dog;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-meta">person.name</span>=<span class="hljs-string">asd</span><br><span class="hljs-meta">person.age</span>=<span class="hljs-string">10</span><br><span class="hljs-meta">person.hobby</span>=<span class="hljs-string">[1,2,3,4]</span><br><span class="hljs-meta">person.map.name</span>=<span class="hljs-string">awsl</span><br><span class="hljs-meta">person.map.age</span>=<span class="hljs-string">100</span><br><span class="hljs-meta">person.dog.name</span>=<span class="hljs-string">wangwang</span><br><span class="hljs-meta">person.dog.age</span>=<span class="hljs-string">10</span><br></code></pre></td></tr></table></figure>

<p><strong>@ConfigurationProperties(prefix = “”)将配置文件中指定prefix的属性 与 类中的属性进行绑定</strong></p>
<p>不过使用properties有可能会出现乱码：</p>
<p>乱码解决:</p>
<p>settings -&gt; FileEncoding 设置统一编码</p>
<p><img src="/2020/11/03/springboot/properties.jpg" alt="properties"></p>
<h3 id="使用yaml"><a href="#使用yaml" class="headerlink" title="使用yaml"></a><strong>使用yaml</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs plain">@Data<br>@AllArgsConstructor<br>@NoArgsConstructor<br>@Component<br>@ConfigurationProperties(prefix &#x3D; &quot;person&quot;)<br>public class person &#123;<br><br>    private String name;<br>    private String age;<br>    private List hobby;<br>    private Map&lt;String,Object&gt; map;<br>    private dog dog;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>application.yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plain">person:<br>  name: asd<br>  age: 10<br>  hobby: [1,2,3]<br>  map: &#123;name: asdasd, age: 10&#125;<br>  dog:<br>    name: wangwang<br>    age: 10<br><br></code></pre></td></tr></table></figure>

<p>以下错误不用理会，或者去根据官网指令添加相应依赖即可</p>
<p><img src="/2020/11/03/springboot/wrong.jpg" alt="wrong"></p>
<p><strong>注：yaml中的属性字段要与类中的字段一致！</strong></p>
<p>另外，yaml还支持松散绑定：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">dog:</span><br>  <span class="hljs-attr">dog-name:</span> <span class="hljs-string">wangwang</span><br>  <span class="hljs-attr">age:</span> <span class="hljs-number">10</span><br></code></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">dog:</span><br>  <span class="hljs-attr">dog_name:</span> <span class="hljs-string">wangwang</span><br>  <span class="hljs-attr">age:</span> <span class="hljs-number">10</span><br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs plain">@Data<br>@AllArgsConstructor<br>@NoArgsConstructor<br>@Component<br>@PropertySource(value &#x3D; &quot;classpath:application.yaml&quot;)<br>@ConfigurationProperties(prefix &#x3D; &quot;dog&quot;)<br>public class dog &#123;<br><br>    private String dogName;<br>    private int age;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Value和-Configuration对比"><a href="#Value和-Configuration对比" class="headerlink" title="@Value和@Configuration对比"></a><strong>@Value和@Configuration对比</strong></h3><p><img src="/2020/11/03/springboot/compare.png" alt="compare"></p>
<p>可以看到，@Configuration支持更为复杂的功能</p>
<h2 id="多环境配置及配置文件位置"><a href="#多环境配置及配置文件位置" class="headerlink" title="多环境配置及配置文件位置"></a><strong>多环境配置及配置文件位置</strong></h2><h3 id="文件位置"><a href="#文件位置" class="headerlink" title="文件位置"></a><strong>文件位置</strong></h3><p>配置文件的位置有四种：</p>
<ul>
<li>file:./config/</li>
</ul>
<p>项目的config目录下</p>
<ul>
<li>file:./</li>
</ul>
<p>项目下</p>
<ul>
<li>classpath:/config/</li>
</ul>
<p>类路径的config目录下</p>
<ul>
<li>classpath:/</li>
</ul>
<p>类路径下</p>
<p>位置及优先级如图所示</p>
<p><img src="/2020/11/03/springboot/yamladdress.jpg" alt="yamladdress"></p>
<h3 id="多环境切换"><a href="#多环境切换" class="headerlink" title="多环境切换"></a><strong>多环境切换</strong></h3><p>在真实项目中，可能会有多套环境，比如测试环境、开发环境等等，那这个时候怎么选择指定的环境呢</p>
<ul>
<li><p>如果使用的是properties文件<br><img src="/2020/11/03/springboot/mulproperties.jpg" alt="mulproperties"><br>只需要在默认的properties文件中进行指定选择</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plain">spring.profiles.active&#x3D;dev<br><br>或<br><br>spring.profiles.active&#x3D;test<br></code></pre></td></tr></table></figure>
</li>
<li><p>如果使用的是yaml文件<br>yaml可以使用多文档模块，在yaml中使用<code>---</code>分割多个文档</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs plain">spring:<br>  profiles:<br>    active: dev<br><br>---<br><br>server:<br>  port: 8081<br>spring:<br>  profiles: dev<br><br>---<br><br>server:<br>  port: 8082<br>spring:<br>  profiles: test<br><br></code></pre></td></tr></table></figure>

<h1 id="springboot的web开发"><a href="#springboot的web开发" class="headerlink" title="springboot的web开发"></a><strong>springboot的web开发</strong></h1><p>在springboot中，可以使用以下方法处理静态资源</p>
<h2 id="处理静态资源"><a href="#处理静态资源" class="headerlink" title="处理静态资源"></a><strong>处理静态资源</strong></h2><h3 id="webjars"><a href="#webjars" class="headerlink" title="webjars"></a><strong>webjars</strong></h3><p>webjars官网：<a target="_blank" rel="noopener" href="https://www.webjars.org/">https://www.webjars.org/</a></p>
<p>访问localhost:8080/webjars/… 便可以获取静态资源</p>
<p>如：添加jquery的webjars后，访问<a target="_blank" rel="noopener" href="http://localhost:8081/webjars/jquery/3.5.1/jquery.js%E5%B0%B1%E5%8F%AF%E4%BB%A5%E8%8E%B7%E5%BE%97jquery.js%E7%9A%84%E8%B5%84%E6%BA%90">http://localhost:8081/webjars/jquery/3.5.1/jquery.js就可以获得jquery.js的资源</a></p>
<p><img src="/2020/11/03/springboot/jquerywebjars.jpg" alt="jquerywebjars"></p>
<h3 id="resources-xx"><a href="#resources-xx" class="headerlink" title="resources/xx"></a><strong>resources/xx</strong></h3><ul>
<li><p>resources/public：localhost:8080/</p>
</li>
<li><p>resources/static：localhost:8080/</p>
</li>
<li><p>resources/resources：localhost:8080/</p>
</li>
</ul>
<p>可以在resources目录下创建以上三个文件，访问localhost:8080/xx 都可以获得静态资源</p>
<p>优先级：resources、public、static</p>
<p>通常将静态资源放入以上目录下，相当于mvc中/WEB-INF目录</p>
<h2 id="Thymeleaf模版"><a href="#Thymeleaf模版" class="headerlink" title="Thymeleaf模版"></a><strong>Thymeleaf模版</strong></h2><p>Thymeleaf是用来开发Web和独立环境项目的服务器端的Java模版引擎，能够处理HTML，XML，JavaScript，CSS 甚至纯文本。一些常用的模版引擎有JSP、Freemarker、Thymeleaf等等，而springboot并不支持jsp这种模版引擎。</p>
<p>Thymeleaf 官网：<a target="_blank" rel="noopener" href="https://www.thymeleaf.org/">https://www.thymeleaf.org/</a></p>
<p>Thymeleaf 在 Github 的主页：<a target="_blank" rel="noopener" href="https://github.com/thymeleaf/thymeleaf">https://github.com/thymeleaf/thymeleaf</a></p>
<p>导入依赖</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plain">&lt;dependency&gt;<br>	&lt;groupId&gt;org.thymeleaf&lt;&#x2F;groupId&gt;<br>	&lt;artifactId&gt;thymeleaf-spring5&lt;&#x2F;artifactId&gt;<br>&lt;&#x2F;dependency&gt;<br>&lt;dependency&gt;<br>	&lt;groupId&gt;org.thymeleaf.extras&lt;&#x2F;groupId&gt;<br>	&lt;artifactId&gt;thymeleaf-extras-java8time&lt;&#x2F;artifactId&gt;<br>&lt;&#x2F;dependency&gt;<br><br></code></pre></td></tr></table></figure>

<p><strong>注意导入的thymeleaf是3.x版本的</strong></p>
<p><img src="/2020/11/03/springboot/thymeleafproperties.jpg" alt="thymeleafproperties"></p>
<p>可以看到，thymeleaf已经帮我们生成好了视图解析器，且默认路径为resources/templates，所以视图应该放在templates目录下，以便默认的视图解析器生效</p>
<p><strong>注：如果将页面放在templates目录下，需要thymeleaf的支持，不然直接404</strong></p>
<p>thymeleaf关闭缓存：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plain">spring:<br>  thymeleaf:<br>    cache: false<br></code></pre></td></tr></table></figure>

<h3 id="thymeleaf语法"><a href="#thymeleaf语法" class="headerlink" title="thymeleaf语法"></a><strong>thymeleaf语法</strong></h3><p>要在html文件中使用thymeleaf，要在html中加上</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">&lt;html xmlns:th&#x3D;&quot;http:&#x2F;&#x2F;www.thymeleaf.org&quot;&gt;<br></code></pre></td></tr></table></figure>

<p>thymeleaf的语法和vue的语法很相似    <a target="_blank" rel="noopener" href="https://blog.csdn.net/malimingwq/article/details/79329921">https://blog.csdn.net/malimingwq/article/details/79329921</a></p>
<h3 id="mvc的配置和扩展"><a href="#mvc的配置和扩展" class="headerlink" title="mvc的配置和扩展"></a><strong>mvc的配置和扩展</strong></h3><p>springboot为我们配置好了默认的mvc框架，如果我们想保持mvc的特征并且为mvc添加一些特定配置，如配置 拦截器、过滤器、改变视图解析器等等，我们可以用<code>@Configuration</code>作用于某个bean并且让它实现<code>WebMvcConfigurer</code>接口中方法即可，如果要往spring容器中添加组件，则添加一个带@Bean的方法即可</p>
<p>WebMvcConfigurer接口中的方法如下：</p>
<p><img src="/2020/11/03/springboot/webmvcconfigurer.jpg" alt="webmvcconfigurer"></p>
<p>如配置拦截器：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs plain">@Configuration<br>public class myconfiguration implements WebMvcConfigurer &#123;<br><br>    @Override<br>    public void addInterceptors(InterceptorRegistry registry) &#123;<br>        registry.addInterceptor(new HandlerInterceptor() &#123;<br>            @Override<br>            public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123;<br>                return false;<br>            &#125;<br><br>            @Override<br>            public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception &#123;<br><br>            &#125;<br><br>            @Override<br>            public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123;<br><br>            &#125;<br>        &#125;).addPathPatterns();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>定制首页：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plain">@Configuration<br>public class myconfiguration implements WebMvcConfigurer &#123;<br><br>    @Override<br>    public void addViewControllers(ViewControllerRegistry registry) &#123;<br>        registry.addViewController(&quot;&quot;).setViewName(&quot;&quot;);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>注：定制首页时，如果放在templates目录下，需要thymeleaf支持，不然直接404，或者放在static、resources、public目录下</strong></p>
<p><strong>template下：<code>registry.addViewController(&quot;/&quot;).setViewName(&quot;index&quot;);</code></strong></p>
<p><strong>其他目录下:<code>registry.addViewController(&quot;/&quot;).setViewName(&quot;index.html&quot;);</code></strong></p>
<p>配置定制视图解析器：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plain">public class MyReviewResolver implements ViewResolver &#123;<br>    @Override<br>    public View resolveViewName(String s, Locale locale) throws Exception &#123;<br>        return null;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plain">@Configuration<br>public class myconfiguration implements WebMvcConfigurer &#123;<br>    <br>    @Bean<br>    public MyReviewResolver reviewResolver()&#123;<br>        return new MyReviewResolver();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="异常页面处理"><a href="#异常页面处理" class="headerlink" title="异常页面处理"></a><strong>异常页面处理</strong></h3><p>springboot中处理404非常简单，只要在templates下添加子目录error，将404页面放进error目录即可，500页面也一样，<strong>注：html页面的名字必须为404 或 500</strong></p>
<h1 id="springboot自动配置原理"><a href="#springboot自动配置原理" class="headerlink" title="springboot自动配置原理"></a><strong>springboot自动配置原理</strong></h1><p>@SpringBootApplication -&gt;   @EnableAutoConfiguration   -&gt;  AutoConfigurationImportSelector</p>
<p>-&gt;  selectImports   -&gt;  /meta/spring.factories    -&gt;    xxxAutoConfiguration</p>
<p>xxxAutoConfiguration    -&gt;      @EnableConfigurationProperties(xxxProperties.class)     -&gt;</p>
<p>xxxProperties(@ConfigurationProperties(prefix = “xxx”)</p>
<h2 id="工作原理："><a href="#工作原理：" class="headerlink" title="工作原理："></a><strong>工作原理：</strong></h2><p>在springboot中，所有关于自动配置的源码（自动配置类）都在spring-boot-autoconfigure-x.x.x.x.jar包中的 spring.factories文件中</p>
<p><img src="/2020/11/03/springboot/springfactories.jpg" alt="springfactories"></p>
<p>在spring.factories中 包含了大量的 键值对 形式，表示自动配置类</p>
<p><img src="/2020/11/03/springboot/autoconfigurationclass.jpg" alt="autoconfigurationclass"></p>
<p>springboot的每个启动类中，都有一个注解<code>@SpringBootApplication</code>，<code>@SpringBootApplication</code>是一个复合注解或派生注解，在<code>@SpringBootApplication</code>中有一个注解<code>@EnableAutoConfiguration</code>，意思就是开启自动配置</p>
<p><img src="/2020/11/03/springboot/springbootapplication.jpg" alt="springbootapplication"></p>
<p><code>@EnableAutoConfiguration</code>这个注解也是一个派生注解，其中的关键功能由@Import提供，<code>@EnableAutoConfiguration</code>注解通过<code>@SpringBootApplication</code>被间接的标记在了springboot的启动类上</p>
<p><img src="/2020/11/03/springboot/EnableAutoConfiguratio.jpg" alt="EnableAutoConfiguratio"></p>
<p>在AutoConfigurationImportSelector有一个方法selectImports()</p>
<p><img src="/2020/11/03/springboot/selectImports.jpg" alt="selectImports"></p>
<p>AutoConfigurationImportSelector的selectImports()方法通过SpringFactoriesLoader.loadFactoryNames()方法扫描所有具有META-INF/spring.factories的jar包</p>
<p>而在spring-boot-autoconfigure-x.x.x.x.jar包中的spring.factories文件中，就包含了springboot中的所有自动配置类，所以在启动springboot时，SpringApplication.run方法就会将所有自动配置类加载到Spring容器中。</p>
<h2 id="自动配置如何生效"><a href="#自动配置如何生效" class="headerlink" title="自动配置如何生效"></a><strong>自动配置如何生效</strong></h2><p>上面说到，所有的自动配置类都在spring-boot-autoconfigure-x.x.x.x.jar包中的spring.factories文件中</p>
<p>可以看到自动配置类都是xxxAutoConfiguration这样的形式</p>
<p>以ServletWebServerFactoryAutoConfiguration为例：</p>
<p><img src="/2020/11/03/springboot/ServletWebServerFactoryAutoConfiguration.jpg" alt="ServletWebServerFactoryAutoConfiguration"></p>
<p>可以看到在ServletWebServerFactoryAutoConfiguration中有一个注解<code>@EnableConfigurationProperties(ServerProperties.class)</code>，它表示允许配置属性</p>
<p>而在<code>ServerProperties.class</code>中，看到了熟悉的注解<code>@ConfigurationProperties</code>，它的作用就是从配置文件中绑定属性到对应的bean上</p>
<p><img src="/2020/11/03/springboot/ServerProperties.jpg" alt="ServerProperties"></p>
<p>而<code>@EnableConfigurationProperties(ServerProperties.class)</code>负责将这个已经绑定了属性的bean导入spring容器中</p>
<p>所以，到现在可以大概的得出结论：</p>
<p>springboot中所有的自动配置类都是以xxxAutoConfiguration这样的形式，每个自动配置类都是通过注解<code>@EnableConfigurationProperties(xxxProperties.class)</code>将绑定了属性的自动配置类导入spring容器中，而它们的属性由<br>xxxProperties类提供，xxxProperties类的属性又是通过<code>@ConfigurationProperties</code>注解与配置文件中的对应属性进行绑定</p>
<p>所以，每个自动配置类xxxAutoConfiguration的属性 都对应着 xxxProperties类 中的属性，要想配置自动配置类中的属性，只要找到相应的xxxProperties即可</p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:zhangakenug@qq.com">leobro</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2020/11/03/springboot/">http://example.com/2020/11/03/springboot/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">十二点前要睡觉</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/springboot/">springboot</a></div><div class="post_share"><div class="addthis_inline_share_toolbox"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=null" async="async"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/11/05/springbootDatabase/"><img class="prev-cover" src="/null" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">springboot整合数据库</div></div></a></div><div class="next-post pull-right"><a href="/2020/10/29/vue/"><img class="next-cover" src="/null" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">vue入门</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2020/11/05/springbootDatabase/" title="springboot整合数据库"><img class="cover" src="/null"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-11-05</div><div class="title">springboot整合数据库</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div class="comment-switch"><span class="first-comment">Valine</span><label><input id="switch-comments-btn" type="checkbox"/><span class="slider"></span></label><span class="second-comment"></span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div></div></div></div></article></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 By leobro</div><div class="icp"><a><img class="icp-icon" src="/img/icp.png"/><span></span></a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const initData = {
      el: '#vcomment',
      appId: 'o54aCaKzTFHPaGNnITdvAfOS-gzGzoHsz',
      appKey: 'jvbQisVTLo4YUOsf7ftzcPAn',
      placeholder: '',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'en',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
    }

    if (false) { 
      initData.requiredFields= (''.split(','))
    }

    const valine = new Valine(initData)
  }

  if (typeof Valine === 'function') initValine() 
  else $.getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js', initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.querySelector('#vcomment'),loadValine)
  else setTimeout(() => loadValine(), 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script></div></body></html>